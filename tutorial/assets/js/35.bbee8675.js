(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{359:function(t,a,r){"use strict";r.r(a);var e=r(15),_=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_4-ajax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-ajax"}},[t._v("#")]),t._v(" 4 Ajax")]),t._v(" "),a("h1",{attrs:{id:"jquery-ajax-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jquery-ajax-简介"}},[t._v("#")]),t._v(" jQuery - AJAX 简介")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("AJAX 是与服务器交换数据的技术，它在不重载全部页面的情况下，实现了对部分网页的更新。")]),t._v(" "),a("h2",{attrs:{id:"jquery-ajax-实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jquery-ajax-实例"}},[t._v("#")]),t._v(" jQuery AJAX 实例")]),t._v(" "),a("h2",{attrs:{id:"使用-jquery-ajax-修改文本内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-jquery-ajax-修改文本内容"}},[t._v("#")]),t._v(" 使用 jQuery AJAX 修改文本内容")]),t._v(" "),a("p",[t._v("获取外部内容")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.runoob.com/try/try.php?filename=tryjquery_ajax_load",target:"_blank",rel:"noopener noreferrer"}},[t._v("尝试一下 »"),a("OutboundLink")],1)]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"什么是-ajax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是-ajax"}},[t._v("#")]),t._v(" 什么是 AJAX？")]),t._v(" "),a("p",[t._v("AJAX = 异步 JavaScript 和 XML（Asynchronous JavaScript and XML）。")]),t._v(" "),a("p",[t._v("简短地说，在不重载整个网页的情况下，AJAX 通过后台加载数据，并在网页上进行显示。")]),t._v(" "),a("p",[t._v("使用 AJAX 的应用程序案例：谷歌地图、腾讯微博、优酷视频、人人网等等。")]),t._v(" "),a("p",[t._v("您可以在我们的 "),a("a",{attrs:{href:"https://www.runoob.com//www.runoob.com/jquery/ajax-ajax.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("jQuery Ajax 参考手册"),a("OutboundLink")],1),t._v("学会 jQuery Ajax 的具体应用。")]),t._v(" "),a("p",[t._v("您可以在我们的 "),a("a",{attrs:{href:"https://www.runoob.com/ajax/",target:"_blank",rel:"noopener noreferrer"}},[t._v("AJAX 教程"),a("OutboundLink")],1),t._v("中学到更多有关 AJAX 的知识。")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"关于-jquery-与-ajax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于-jquery-与-ajax"}},[t._v("#")]),t._v(" 关于 jQuery 与 AJAX")]),t._v(" "),a("p",[t._v("jQuery 提供多个与 AJAX 有关的方法。")]),t._v(" "),a("p",[t._v("通过 jQuery AJAX 方法，您能够使用 HTTP Get 和 HTTP Post 从远程服务器上请求文本、HTML、XML 或 JSON - 同时您能够把这些外部数据直接载入网页的被选元素中。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.runoob.com/images/lamp.jpg",alt:"lamp"}})]),t._v(" "),a("p",[a("strong",[t._v("如果没有 jQuery，AJAX 编程还是有些难度的。")])]),t._v(" "),a("p",[t._v("编写常规的 AJAX 代码并不容易，因为不同的浏览器对 AJAX 的实现并不相同。这意味着您必须编写额外的代码对浏览器进行测试。不过，jQuery 团队为我们解决了这个难题，我们只需要一行简单的代码，就可以实现 AJAX 功能。")]),t._v(" "),a("h1",{attrs:{id:"jquery-ajax-load-方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jquery-ajax-load-方法"}},[t._v("#")]),t._v(" jQuery - AJAX load() 方法")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"jquery-load-方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jquery-load-方法"}},[t._v("#")]),t._v(" jQuery load() 方法")]),t._v(" "),a("p",[t._v("jQuery load() 方法是简单但强大的 AJAX 方法。")]),t._v(" "),a("p",[t._v("load() 方法从服务器加载数据，并把返回的数据放入被选元素中。")]),t._v(" "),a("p",[a("strong",[t._v("语法:")])]),t._v(" "),a("p",[t._v("$(selector).load(URL,data,callback);")]),t._v(" "),a("p",[t._v("必需的 "),a("em",[t._v("URL")]),t._v(" 参数规定您希望加载的 URL。")]),t._v(" "),a("p",[t._v("可选的 "),a("em",[t._v("data")]),t._v(" 参数规定与请求一同发送的查询字符串键/值对集合。")]),t._v(" "),a("p",[t._v("可选的 "),a("em",[t._v("callback")]),t._v(" 参数是 load() 方法完成后所执行的函数名称。")]),t._v(" "),a("p",[t._v('这是示例文件（"demo_test.txt"）的内容：')]),t._v(" "),a("p",[t._v('<h2>jQuery AJAX 是个非常棒的功能！h2> <p id="p1">这是段落的一些文本。p>')]),t._v(" "),a("p",[t._v('下面的例子会把文件 "demo_test.txt" 的内容加载到指定的')]),t._v(" "),a("p",[t._v("元素中：")]),t._v(" "),a("h2",{attrs:{id:"实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),a("p",[t._v('$("#div1").load("demo_test.txt");')]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.runoob.com/try/try.php?filename=tryjquery_ajax_load",target:"_blank",rel:"noopener noreferrer"}},[t._v("尝试一下 »"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("也可以把 jQuery 选择器添加到 URL 参数。")]),t._v(" "),a("p",[t._v('下面的例子把 "demo_test.txt" 文件中 id="p1" 的元素的内容，加载到指定的')]),t._v(" "),a("p",[t._v("元素中：")]),t._v(" "),a("h2",{attrs:{id:"实例-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例-2"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),a("p",[t._v('$("#div1").load("demo_test.txt #p1");')]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.runoob.com/try/try.php?filename=tryjquery_ajax_load2",target:"_blank",rel:"noopener noreferrer"}},[t._v("尝试一下 »"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("可选的 callback 参数规定当 load() 方法完成后所要允许的回调函数。回调函数可以设置不同的参数：")]),t._v(" "),a("ul",[a("li",[a("em",[t._v("responseTxt")]),t._v(" - 包含调用成功时的结果内容")]),t._v(" "),a("li",[a("em",[t._v("statusTXT")]),t._v(" - 包含调用的状态")]),t._v(" "),a("li",[a("em",[t._v("xhr")]),t._v(" - 包含 XMLHttpRequest 对象")])]),t._v(" "),a("p",[t._v('下面的例子会在 load() 方法完成后显示一个提示框。如果 load() 方法已成功，则显示"外部内容加载成功！"，而如果失败，则显示错误消息：')]),t._v(" "),a("h2",{attrs:{id:"实例-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例-3"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),a("p",[t._v('$("button").click(function(){ $("#div1").load("demo_test.txt",function(responseTxt,statusTxt,xhr){ if(statusTxt=="success") alert("外部内容加载成功!"); if(statusTxt=="error") alert("Error: "+xhr.status+": "+xhr.statusText); }); });')]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.runoob.com/try/try.php?filename=tryjquery_ajax_load_callback",target:"_blank",rel:"noopener noreferrer"}},[t._v("尝试一下 »"),a("OutboundLink")],1)]),t._v(" "),a("h1",{attrs:{id:"jquery-ajax-get-和-post-方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jquery-ajax-get-和-post-方法"}},[t._v("#")]),t._v(" jQuery - AJAX get() 和 post() 方法")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("jQuery get() 和 post() 方法用于通过 HTTP GET 或 POST 请求从服务器请求数据。")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"http-请求-get-vs-post"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-请求-get-vs-post"}},[t._v("#")]),t._v(" HTTP 请求：GET vs POST")]),t._v(" "),a("p",[t._v("两种在客户端和服务器端进行请求-响应的常用方法是：GET 和 POST。")]),t._v(" "),a("ul",[a("li",[a("em",[t._v("GET")]),t._v(" - 从指定的资源请求数据")]),t._v(" "),a("li",[a("em",[t._v("POST")]),t._v(" - 向指定的资源提交要处理的数据")])]),t._v(" "),a("p",[t._v("GET 基本上用于从服务器获得（取回）数据。注释：GET 方法可能返回缓存数据。")]),t._v(" "),a("p",[t._v("POST 也可用于从服务器获取数据。不过，POST 方法不会缓存数据，并且常用于连同请求一起发送数据。")]),t._v(" "),a("p",[t._v("如需学习更多有关 GET 和 POST 以及两方法差异的知识，请阅读我们的 "),a("a",{attrs:{href:"https://www.runoob.com/tags/html-httpmethods.html",title:"HTTP 方法：GET 对比 POST",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP 方法 - GET 对比 POST"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"jquery-get-方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jquery-get-方法"}},[t._v("#")]),t._v(" jQuery $.get() 方法")]),t._v(" "),a("p",[t._v("$.get() 方法通过 HTTP GET 请求从服务器上请求数据。")]),t._v(" "),a("h3",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[t._v("#")]),t._v(" 语法：")]),t._v(" "),a("p",[t._v("$.get(URL,callback);\n或\n$.get( URL [, data ] [, callback ] [, dataType ] )")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("URL")]),t._v("：发送请求的 URL字符串。")]),t._v(" "),a("li",[a("strong",[t._v("data")]),t._v("：可选的，发送给服务器的字符串或 key/value 键值对。")]),t._v(" "),a("li",[a("strong",[t._v("callback")]),t._v("：可选的，请求成功后执行的回调函数。")]),t._v(" "),a("li",[a("strong",[t._v("dataType")]),t._v("：可选的，从服务器返回的数据类型。默认：智能猜测（可以是xml, json, script, 或 html）。")])]),t._v(" "),a("p",[t._v("下面的例子使用 $.get() 方法从服务器上的一个文件中取回数据：")]),t._v(" "),a("h2",{attrs:{id:"实例-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例-4"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),a("p",[t._v('$("button").click(function(){ $.get("demo_test.php",function(data,status){ alert("数据: " + data + "\\n状态: " + status); }); });')]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.runoob.com/try/try.php?filename=tryjquery_ajax_get",target:"_blank",rel:"noopener noreferrer"}},[t._v("尝试一下 »"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v('$.get() 的第一个参数是我们希望请求的 URL（"demo_test.php"）。')]),t._v(" "),a("p",[t._v("第二个参数是回调函数。第一个回调参数存有被请求页面的内容，第二个回调参数存有请求的状态。")]),t._v(" "),a("p",[a("strong",[t._v("提示：")]),t._v(' 这个 PHP 文件 ("demo_test.php") 类似这样：')]),t._v(" "),a("h2",{attrs:{id:"demo-test-php-文件代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demo-test-php-文件代码"}},[t._v("#")]),t._v(" demo_test.php 文件代码:")]),t._v(" "),a("p",[t._v("echo '这是个从PHP文件中读取的数据。'; ?>")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"jquery-post-方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jquery-post-方法"}},[t._v("#")]),t._v(" jQuery $.post() 方法")]),t._v(" "),a("p",[t._v("$.post() 方法通过 HTTP POST 请求向服务器提交数据。")]),t._v(" "),a("p",[a("strong",[t._v("语法:")])]),t._v(" "),a("p",[t._v("$.post(URL,callback);\n或\n$.post( URL [, data ] [, callback ] [, dataType ] )")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("URL")]),t._v("：发送请求的 URL字符串。")]),t._v(" "),a("li",[a("strong",[t._v("data")]),t._v("：可选的，发送给服务器的字符串或 key/value 键值对。")]),t._v(" "),a("li",[a("strong",[t._v("callback")]),t._v("：可选的，请求成功后执行的回调函数。")]),t._v(" "),a("li",[a("strong",[t._v("dataType")]),t._v("：可选的，从服务器返回的数据类型。默认：智能猜测（可以是xml, json, script, 或 html）。")])]),t._v(" "),a("p",[t._v("下面的例子使用 $.post() 连同请求一起发送数据：")]),t._v(" "),a("h2",{attrs:{id:"实例-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例-5"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),a("p",[t._v('$("button").click(function(){ $.post("/try/ajax/demo_test_post.php", { name:"菜鸟教程", url:"http://www.runoob.com" }, function(data,status){ alert("数据: \\n" + data + "\\n状态: " + status); }); });')]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.runoob.com/try/try.php?filename=tryjquery_ajax_post",target:"_blank",rel:"noopener noreferrer"}},[t._v("尝试一下 »"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v('$.post() 的第一个参数是我们希望请求的 URL ("demo_test_post.php")。')]),t._v(" "),a("p",[t._v("然后我们连同请求（name 和 url）一起发送数据。")]),t._v(" "),a("p",[t._v('"demo_test_post.php" 中的 PHP 脚本读取这些参数，对它们进行处理，然后返回结果。')]),t._v(" "),a("p",[t._v("第三个参数是回调函数。第一个回调参数存有被请求页面的内容，而第二个参数存有请求的状态。")]),t._v(" "),a("p",[a("strong",[t._v("提示：")]),t._v(' 这个 PHP 文件 ("demo_test_post.php") 类似这样：')]),t._v(" "),a("h2",{attrs:{id:"demo-test-post-php-文件代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demo-test-post-php-文件代码"}},[t._v("#")]),t._v(" demo_test_post.php 文件代码:")]),t._v(" "),a("p",[t._v("$name = isset($_POST['name']) ? htmlspecialchars($_POST['name']) : ''; $url = isset($_POST['url']) ? htmlspecialchars($_POST['url']) : ''; echo '网站名: ' . $name; echo \"\\n\"; echo 'URL 地址: ' .$url; ?>")])])}),[],!1,null,null,null);a.default=_.exports}}]);